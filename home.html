<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trackle‚Ñ¢</title>
    <meta name="theme-color" content="#333333" /> <!-- Dark theme color -->
    <link href="https://fonts.cdnfonts.com/css/london-tube" rel="stylesheet" />
    <link
      rel="icon"
      type="image/x-icon"
      href="https://cdn.glitch.global/8357f303-720f-4e93-ab5a-fafe557be39c/Underground%20Roundel.ico?v=1697160561957"
    />
    <link rel="manifest" href="/manifest.json" />
    <link rel="stylesheet" href="/styles.css" />
    <style>
      body {
        background-color: #333333; /* Dark theme background */
        color: #ffffff; /* Light text color for better contrast */
        font-family: Arial, sans-serif;
      }

      header {
        text-align: center;
      }

      .game-buttons {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .styled-button {
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin: 5px;
        transition: background-color 0.3s;
      }

      footer {
        text-align: center;
        margin-top: 20px;
      }

      /* Button colors for dark theme */
      .btn-blue { background-color: #000f9f; }
      .btn-purple { background-color: #60399e; }
      .btn-orange { background-color: #fa7b05; }
      .btn-green { background-color: #5fb526; }

      /* Button hover effects */
      .btn-blue:hover { background-color: #030f8a; }
      .btn-purple:hover { background-color: #3c2363; }
      .btn-orange:hover { background-color: #c2640e; }
      .btn-green:hover { background-color: #4c8c22; }
    </style>
  </head>
  <body>
    <header>
      <img
        src="https://upload.wikimedia.org/wikipedia/commons/c/ca/Underground_%28no_text%29.svg"
        alt="Logo"
      /><br />
      <h1>Trackle‚Ñ¢</h1>
    </header>

    <main>
      <p>
        <b>What is Trackle‚Ñ¢?</b> Trackle‚Ñ¢ is a game, in which players attempt to
        guess all the stations in: the London Underground; the DLR, Cable Car
        and Elizabeth Line; the London Overground; or the London Trams.
      </p>

      <div class="game-buttons">
        <h2>Pick A Game Mode</h2>
        <a href="/tube.html">
          <button class="styled-button btn-blue">London Underground</button>
        </a>
        <a href="/dlr.html">
          <button class="styled-button btn-purple">DLR, Cable Car &amp; Elizabeth Line</button>
        </a>
        <a href="/overground.html">
          <button class="styled-button btn-orange">London Overground</button>
        </a>
        <a href="/trams.html">
          <button class="styled-button btn-green">London Trams</button>
        </a>
      </div>
    </main>

    <footer>
      <p>
        <b>Trackle‚Ñ¢Ô∏è &#169; SB Designs 2024</b><br />The name Trackle and its
        logo are trademarks of SB Designs.<br />Version 2.3.0
      </p>
      <button
        id="shareButton"
        class="styled-button btn-blue"
      >
        üîó Share Trackle‚Ñ¢
      </button>
      <a href="mailto:hello@trackle.serv00.net">
        <button class="styled-button btn-blue">üìß Contact</button>
      </a>
      <a href="https://sbdesigns.pages.dev">
        <button class="styled-button btn-blue">üñ±Ô∏è SB Designs</button>
      </a>
      <a href="https://github.com/SB-Designs/Trackle">
        <button class="styled-button btn-blue">üìë Source Code</button>
      </a>
    </footer>

    <!-- Install prompt popup -->
    <div id="installPrompt">
      <p>Install the Trackle‚Ñ¢ app for a better experience!</p>
      <button
        id="installButton"
        class="styled-button btn-blue"
      >
        Install
      </button>
      <button
        id="closeButton"
        class="styled-button btn-blue close-btn"
      >
        X
      </button>
    </div>

    <script>
      // Install prompt functionality
      let deferredPrompt;
      const installPrompt = document.getElementById("installPrompt");
      const installButton = document.getElementById("installButton");
      const closeButton = document.getElementById("closeButton");

      window.addEventListener("beforeinstallprompt", (e) => {
        e.preventDefault();
        deferredPrompt = e;
        installPrompt.style.display = "block";

        installButton.addEventListener("click", () => {
          installPrompt.style.display = "none";
          deferredPrompt.prompt();
          deferredPrompt.userChoice.then((choiceResult) => {
            if (choiceResult.outcome === "accepted") {
              console.log("User accepted the install prompt");
            } else {
              console.log("User dismissed the install prompt");
            }
            deferredPrompt = null;
          });
        });

        closeButton.addEventListener("click", () => {
          installPrompt.style.display = "none";
        });
      });

      // Share functionality
      const shareButton = document.getElementById("shareButton");

      shareButton.addEventListener("click", async () => {
        if (navigator.share) {
          try {
            await navigator.share({
              title: "Trackle‚Ñ¢",
              text: "Play Trackle‚Ñ¢Ô∏è today and attempt to guess all of the stations on the TfL network! Play now at https://trackle.glitch.me!",
            });
            console.log("Trackle‚Ñ¢ shared successfully!");
          } catch (error) {
            console.error("Error sharing Trackle‚Ñ¢:", error);
          }
        } else {
          alert("Sharing is not supported on this browser. Try using a mobile device.");
        }
      });
    </script>
  </body>
</html>
